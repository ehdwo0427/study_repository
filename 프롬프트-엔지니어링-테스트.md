상위 문서로 이동 : [AI Wiki](https://github.com/100-hours-a-week/16-Hot6-wiki/wiki/AI-Wiki)

# 프롬프트 엔지니어링 테스트

### 바뀌기 전 프롬프트
```python
messages=[
	{"role": "system", "content": "You are a creative prompt engineer for image generation."},
	{"role": "user", "content": f"Make this into a vivid prompt for image generation: {caption}"}
]
# temperture=0.8
```
```jsons
generated = [Create a vivid digital artwork of a modern workspace, focusing on a sleek, ultra-thin monitor screen that sits prominently on a stylish wooden desk. 
The monitor displays a vibrant, dynamic landscape wallpaper with a sunset over a serene ocean. 
The desk is clutter-free, with only a few essential items such as a minimalistic keyboard, a small potted plant]
```

---

### 바뀐 후 프롬프트
```python
messages = [
{
	"role": "system",
	"content": (
		"You are an expert prompt engineer for text-to-image models like Stable Diffusion XL. "
		"Your job is to take short captions and rewrite them into detailed, vivid, and highly descriptive prompts "
		"suitable for realistic image generation. Use natural, photographic descriptions and focus on visual details, "
		"lighting, atmosphere, and realistic object arrangements. Keep the total prompt under 70 tokens."
		)
	},
	{
	"role": "user",
	"content": f"Caption: {caption}\nPlease rewrite this into a vivid image generation prompt."
	}
]
# temperture=0.6
```
```jsons
generated = [A modern, sleek computer monitor with a vibrant display sits on a wooden desk. 
Sunlight streams through a nearby window, casting soft shadows. 
The desk is clutter-free, with a minimalist lamp and a potted plant beside the monitor.]
```

---

### 쓸데없는 단어 바꾼 프롬프트 결과 값
```jsons
generated = [A modern, sleek computer monitor with a vibrant display sits on a wooden desk. Sunlight streams through a nearby window, casting soft shadows. The desk is clean and organized-free, with a minimalist lamp and a potted plant beside the monitor.]
```


| Base_only              | Base_3d              | base_ott              | 3d_only              |
| ---------------------- | -------------------- | --------------------- | -------------------- |
|![base_only-2](https://github.com/user-attachments/assets/2c52aab1-4686-4af0-bb6e-26b053fb57ba)|![base_3d-2](https://github.com/user-attachments/assets/e8128aee-17f0-43fd-809f-cc1a5f12084d)|![base_ott-2](https://github.com/user-attachments/assets/af402473-80c4-435e-bfeb-e4c8f9e42344)|![3d_only-2](https://github.com/user-attachments/assets/d91cf47b-b60c-41aa-9d2c-9f3a95822738)|
| Ott_only               | Ott_3d               | mix                   |                      |
|![ott_only-2](https://github.com/user-attachments/assets/ce5ebb07-6c9a-4f03-adec-6b9df0bbb31b)|![ott_3d-2](https://github.com/user-attachments/assets/d184dea8-2413-4708-92e4-8a768cf8e7f7)|![mix-2](https://github.com/user-attachments/assets/09d45b0e-81c4-4756-832d-51f2fb9905af)|                      |

---
### prompt replace
```python
def clean_prompt(prompt: str) -> str:
	prompt = prompt.replace("wired", "wireless")
	prompt = prompt.replace("cables", "no visible cables")
	prompt = prompt.replace("clutter", "clean and organized")
	prompt = prompt.replace("noisy background", "neutral background")
	# 쓰레기 제거
	trash_keywords = ["trash", "mess", "noodles", "instant ramen", "wires", "tangled"]
	for word in trash_keywords:
		if word in prompt:
			prompt = prompt.replace(word, "")
	return prompt.strip()
```
- replace 전 = A modern, sleek computer monitor with a vibrant display sits on a wooden desk. 
Sunlight streams through a nearby window, casting soft shadows. 
The desk is clutter-free, with a minimalist lamp and a potted plant beside the monitor.

- replace 후 = A modern, sleek computer monitor with a vibrant display sits on a wooden desk. 
Sunlight streams through a nearby window, casting soft shadows. 
The desk is clean and organized-free, with a minimalist lamp and a potted plant beside the monitor.

| Base_only            | Base_3d            | base_ott            | 3d_only            |
| -------------------- | ------------------ | ------------------- | ------------------ |
|![base_only](https://github.com/user-attachments/assets/cb40e628-6327-467b-97a6-8199eea01c9d)|![base_3d](https://github.com/user-attachments/assets/489adf8f-b4a8-4197-9c54-dd3b23f24b46)|![base_ott](https://github.com/user-attachments/assets/dcc8bf00-8e94-4687-b043-6ed73ebaff51)|![3d_only](https://github.com/user-attachments/assets/8b4490c1-e64c-4ef7-8a01-3f3e9d468fd2)|
| Ott_only             | Ott_3d             | mix                 |                    |
|![ott_only](https://github.com/user-attachments/assets/9fbd8b9d-33eb-492c-8992-76793100e8d4)|![ott_3d](https://github.com/user-attachments/assets/3326d059-5e8b-48c2-9f2f-5f72b93f1c9c)|![mix](https://github.com/user-attachments/assets/7a35864b-9050-466a-a0c6-7bd9dbcd0fe0)|                    |

---
- machainal keyboard 추가
```jsons
generated_prompt = "A modern, sleek computer monitor and full-sized wireless mechanical keyboard with a vibrant display sits on a wooden desk. Sunlight streams through a nearby window, casting soft shadows. 
The desk is clean and organized-free, with a minimalist lamp and a potted plant beside the monitor."
```
| Base_only            | Base_3d            | base_ott            | 3d_only            |
| -------------------- | ------------------ | ------------------- | ------------------ |
|![base_only-4](https://github.com/user-attachments/assets/2d7e31a7-2fa2-4469-89ea-ffa4f9734d0e)|![base_3d-4](https://github.com/user-attachments/assets/598e8110-7411-4df1-8fd7-0ea7f5cca162)|![base_ott-4](https://github.com/user-attachments/assets/ea1799fa-de09-4976-9a60-66dd7b823134)|![3d_only-4](https://github.com/user-attachments/assets/3d4f1192-a7a0-40f0-9d02-3210b71a25ea)|
| Ott_only             | Ott_3d             | mix                 |                    |
|![ott_only-4](https://github.com/user-attachments/assets/399f33da-88c0-4585-b79c-65fffb1a6da5)|![ott_3d-4](https://github.com/user-attachments/assets/97a6072b-d6df-461a-9672-3f4ebe46f30c)|![mix-4](https://github.com/user-attachments/assets/25fe36f4-a93d-4e68-930a-978735c9152b)|                    |